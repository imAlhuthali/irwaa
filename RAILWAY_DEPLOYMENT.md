# Railway Deployment Guide

## Prerequisites
1. Railway account (https://railway.app)
2. Telegram Bot Token from @BotFather
3. Your Telegram User ID (get from @userinfobot)

## Quick Deployment Steps

### 1. Connect to Railway
1. Visit your Railway dashboard
2. Click "New Project"
3. Select "Deploy from GitHub repo" 
4. Connect this repository

### 2. Add PostgreSQL Database
1. In your Railway project, click "Add Service"
2. Select "Database" â†’ "PostgreSQL"
3. Railway will automatically create `DATABASE_URL` variable

### 3. Set Environment Variables
Go to your service's "Variables" tab and add:

```
BOT_TOKEN=your_actual_bot_token_from_botfather
ADMIN_ID=your_telegram_user_id
```

### 4. Get Webhook URL
1. After first deployment, Railway will provide your app URL
2. Add this variable:
```
WEBHOOK_URL=https://your-app-name.up.railway.app
```

### 5. Deploy
- Railway will automatically deploy when you push to your connected branch
- First deployment may take 5-10 minutes
- Check logs for any issues

## Verification

1. Check deployment logs for "âœ… Database initialized successfully"
2. Visit `https://your-app-name.up.railway.app/health` 
3. Should return: `{"status":"healthy"}`
4. Test your bot by sending `/start` in Telegram

## Environment Variables Summary

| Variable | Required | Description |
|----------|----------|-------------|
| `BOT_TOKEN` | âœ… | Your Telegram bot token |
| `ADMIN_ID` | âœ… | Your Telegram user ID |
| `DATABASE_URL` | âœ… | Auto-generated by Railway |
| `WEBHOOK_URL` | âœ… | Your Railway app URL |
| `PORT` | âœ… | Auto-set by Railway |

## Troubleshooting

### Common Issues:
1. **Bot not responding**: Check webhook URL is correct
2. **Database errors**: Ensure PostgreSQL service is running
3. **Permission denied**: Verify admin ID is correct
4. **Build fails**: Check logs for missing dependencies

### Useful Commands:
```bash
# View logs
railway logs

# Check service status  
railway status

# Open in browser
railway open
```

## Features Enabled
- âœ… PostgreSQL database with auto-migrations
- âœ… Webhook mode for production
- âœ… Health check endpoint
- âœ… Automatic error handling
- âœ… Arabic language support
- âœ… Student registration system
- âœ… Quiz and content management
- âœ… Analytics and progress tracking

## Admin Commands
Once deployed, use these commands as admin:
- `/admin` - Access admin panel
- `/stats` - View bot statistics  
- `/broadcast <message>` - Send message to all users

Your bot is now ready for production! ðŸš€